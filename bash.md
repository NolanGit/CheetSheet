# bash

## 别名

- alias gpull='git pull'临时设置别名，unalias gpull删除别名

## 指令

- ctrl+u从游标向前删除指令，ctrl+k从游标向后删除指令；ctrl+a将游标移动到指令的最前面，ctrl+e将游标移动到指令的最后面

## 变量

### 常用命令

- ${var}变量的获取；var=123变量的设定；unset var变量取消设定；read [-pt] variable读取键盘输入，-p接提示信息，-t接n秒内获取不到则退出

- "var=lang is ${LANG}"双引号内的变量仍然保持变量的特性，所以var的值为"lang is zh_CN. UTF-8"；'var=lang is ${LANG}'单引号内的变量不保持变量的特性，所以var的值为"lang is ${LANG}"；

- 使用"\"转义字符来转义空格、$、'、回车；

- "$()"的指令会被首先执行，例如version=$(uname -r)，此时version的值为"5.4.51-v7+"

- export var设置环境变量

- 扩增变量内容var=${var}234，即为var变量后添加234

### 变量类型的声明

- declara [-aixr] variable，-a数组，-i整型，-x将后边的variable变成环境变量，-r将后边的variable设置为只读；注意：数组类型index从1开始

### 变量的删除、取代和替换

## 资料重定向

- 标准输入：<<或<

- 标准输出：>>或>

- 标准错误输出：2>>或2>

- 双向重导向：tee，例如：last | tee last.list | cut -d " " -f1，允许将last的输出存一份到last.list中，同时展示在屏幕上交由cut处理

## 逻辑判断

- [;]不考虑指令相关性的连续下达

- [||]前一个执行错误则执行后一个指令

- [&&]前一个指令正确则执行后一个指令

- 例题：以 ls 测试 /tmp/vbirding 是否存在，若存在则显示 "exist" ，若不存在，则显示 "not exist"！:ls //tmp/vbirding && echo "exist" || echo "not exist"

## 撷取命令

- 撷取命令通常针对"一行一行"来分析的

### cut

- 概念：从一行信息之中取出部分想要的

- 参数： \[-d 后接分割字符，与-f配合使用\] \[-f 后接数字，如-d X，则为根据-d的分割字符将信息分为数段，并取出第X段（从1开始计数）\] \[-c 以字符为单位取出固定字符区间，如：-c 12-20则为取出第12-20个字符\]

### grep

- 概念：分析一行信息，如果命中关键字，则返回该行

- 参数： grep后直接加所要搜寻的字串

- 其他参数：\[-c 计算包含搜寻字串的行数\] \[-n 顺便输出行号\] \[-i 忽略大小写\] \[-v 反向选择，即输出没有指定字串的行\]

## 排序命令

### sort

- sort 后直接加文件，或cat出来用管道后sort

- 参数：\[-r 倒序排序\]

### uniq

- 概念：重复的行合并展示

- 参数：\[-c 计数\] \[-d 仅展示重复的行\]

## 字符转换命令

### tr

- 概念：删除一段信息中的文字或进行文字替换

- 参数：tr 后直接接被替换文字和替换文字，如last | tr '[a-z]' '[A-Z]'

- 其他参数：\[-d 后接删除字符\] 

### join

- 概念：join用于合并两个文件，join 预设以空白字元分隔资料，并且比对『第一个栏位』的资料，如果两个档案相同，则将两笔资料联成一行，且第一个栏位放在第一个

- 参数：\[-t 后接分割字符，如果不加此参数，join 预设以空白字元分隔资料\] \[-1 后接数字X ，代表『第一个档案要用第X个栏位来分析』的意思\] \[-2 后接数字Y，代表『第二个档案要用Y来分析』的意思\]

- 例子： join -t ':' -1 4 /etc/passwd -2 3 /etc/group

## 其他

- history查历史命令

- bash执行命令的运行顺序：1、以相对/绝对路径执行；2、执行由alias找到的指令；3、执行由bash内建的指令；4、执行通过$PATH这个变量设置的顺序来搜寻到的第一个指令

- source ~/.bashrc 读入指定的环境配置

- 万用字符：\*【0到无穷个任意字符】；?【一定有一个任意字符】；[]【一定有一个括号内的字符，如[abc]表示一定有一个字符，可能是a、b、c中之一】；[-]【一定有一个在编码顺序中的任意字符，如[0-9]代表从0-9之间的所有数字】；[^]【如果中括号的第一个字符为^时，表示反向选择，如[^abc]为非a、b、c的其他字符】

